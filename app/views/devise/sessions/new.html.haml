/ Combined Card - Logo, Title, and Form
.bg-white.rounded-lg.shadow-xl.overflow-hidden
  / Logo and Title Section
  .p-8.text-center.bg-white
    %img.mx-auto.mb-4{src: AppConfig::LOGO_URL, alt: "Logo", class: "h-20"}
    %h1.text-3xl.font-bold.mb-2{class: "text-[#FA812F]"}= t('app.name', default: AppConfig::APP_NAME)
    %p.text-gray-600= t('app.subtitle', default: AppConfig::APP_SUBTITLE)
  
  / Divider
  .h-px.bg-gray-200
  
  / Login Form Section
  .p-8
    %h2.text-2xl.font-bold.mb-6.text-center.text-gray-800= t('devise.sessions.new.sign_in', default: 'Logowanie')
    
    / Login Form
    = form_for(resource, as: resource_name, url: session_path(resource_name), html: { class: "space-y-5" }) do |f|
      / Username Field
      .form-group
        = f.label :username, t('activerecord.attributes.user.username', default: 'Nazwa użytkownika'), class: "block text-sm font-bold text-gray-700 mb-2"
        = f.text_field :username, autofocus: true, autocomplete: "username", class: "w-full px-4 py-3 border-2 border-[#FEF3E2] rounded-md focus:outline-none focus:border-[#FA812F] transition-colors", placeholder: t('devise.sessions.new.username_placeholder', default: 'Wprowadź nazwę użytkownika')
      
      / Password Field
      .form-group
        = f.label :password, t('activerecord.attributes.user.password', default: 'Hasło'), class: "block text-sm font-bold text-gray-700 mb-2"
        .relative{ data: { controller: "password-visibility" } }
          = f.password_field :password, autocomplete: "current-password", class: "w-full px-4 py-3 pr-12 border-2 border-[#FEF3E2] rounded-md focus:outline-none focus:border-[#FA812F] transition-colors", placeholder: t('devise.sessions.new.password_placeholder', default: 'Wprowadź hasło'), data: { password_visibility_target: "input" }
          = button_tag type: "button", class: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none", data: { action: "password-visibility#toggle" } do
            %span{ data: { password_visibility_target: "eyeOpen" } }= lucide_icon('eye', class: 'w-5 h-5')
            %span.hidden{ data: { password_visibility_target: "eyeClosed" } }= lucide_icon('eye-off', class: 'w-5 h-5')
      
      / Remember Me
      - if devise_mapping.rememberable?
        .flex.items-center
          = f.check_box :remember_me, class: "h-4 w-4 text-[#FA812F] border-gray-300 rounded focus:ring-[#FA812F]"
          = f.label :remember_me, t('devise.sessions.new.remember_me', default: 'Zapamiętaj mnie'), class: "ml-2 text-sm text-gray-700"
      
      / Submit Button
      .form-group.pt-2
        = f.submit t('devise.sessions.new.sign_in', default: 'Zaloguj się'), class: "w-full py-3 px-4 bg-[#FA812F] hover:bg-[#E87020] text-white font-bold rounded-md transition-colors cursor-pointer shadow-md hover:shadow-lg"

      / Forgot Password Link
      .text-center.mt-4
        = link_to "mailto:#{ENV.fetch('ADMIN_EMAIL', 'admin@example.com')}?subject=#{URI.encode_www_form_component(t('devise.sessions.new.forgot_password_subject', default: 'Zapomniałem hasła'))}", class: "text-sm text-[#FA812F] hover:text-[#E87020] hover:underline transition-colors" do
          = lucide_icon('mail', class: 'w-4 h-4 inline-block mr-1')
          = t('devise.sessions.new.forgot_password', default: 'Zapomniałem hasła')

  / Footer
  .px-8.pb-8.text-center.text-sm.text-gray-500
    .border-t.border-gray-200.pt-6
      %p= t('app.company_name', default: AppConfig::COMPANY_NAME)
      %p.text-xs.mt-1.text-gray-400= "© #{Time.current.year} #{t('app.rights', default: 'Wszelkie prawa zastrzeżone')}"